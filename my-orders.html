
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Orders - Praf's Kitchen</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container mt-4">
    <h2>My Orders</h2>
    <div id="ordersList" class="mt-3"></div>
  </div>
  <script>
    const user = localStorage.getItem('currentUser');
    const orders = JSON.parse(localStorage.getItem('orders') || '[]');
    const ordersList = document.getElementById('ordersList');
    if (!user) {
      ordersList.innerHTML = "<p>Please log in to view your orders.</p>";
    } else {
      const userOrders = orders.filter(o => o.user === user);
      if (userOrders.length === 0) {
        ordersList.innerHTML = "<p>No past orders found.</p>";
      } else {
        userOrders.forEach((order, index) => {
          const div = document.createElement('div');
          div.className = 'card mb-3';
          div.innerHTML = `
            <div class="card-body">
              <h5 class="card-title">Order #${index + 1}</h5>
              <p class="card-text"><strong>Time Slot:</strong> ${order.time}</p>
              <p class="card-text"><strong>Date:</strong> ${order.date}</p>
              <ul class="list-group mb-2">${order.basket.map(i => `<li class="list-group-item">${i.name} x${i.qty}</li>`).join('')}</ul>
            </div>`;
          ordersList.appendChild(div);
        });
      }
    }
  </script>
</body>
</html>
